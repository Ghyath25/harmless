<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'>
<nta>
<declaration>
// Place global declarations here.
chan memStart;
chan memEnd;
chan memVal;
chan hit;
</declaration>
<template>
	<name x="5" y="5">mem</name>
	<declaration>
// Place local declarations here.
clock cycle;
int[0,3] nb;
	</declaration>
	<location id="id0" x="-32" y="88">
		<name x="-42" y="56">burst</name>
		<label kind="invariant" x="-72" y="40">cycle &lt;= 3</label>
	</location>
	<location id="id1" x="-8" y="-40">
		<name x="-18" y="-70">FirstAccess</name>
		<label kind="invariant" x="8" y="-48">cycle &lt;= 10</label>
	</location>
	<location id="id2" x="-136" y="-40"></location>
	<init ref="id2"/>
	<transition>
		<source ref="id0"/>
		<target ref="id2"/>
		<label kind="guard" x="-192" y="80">nb&gt;=3</label>
		<label kind="synchronisation" x="-208" y="56">memEnd!</label>
		<nail x="-152" y="56"/>
	</transition>
	<transition>
		<source ref="id0"/>
		<target ref="id0"/>
		<label kind="guard" x="16" y="144">cycle == 3 &amp;&amp; nb &lt; 3</label>
		<label kind="synchronisation" x="16" y="96">memVal!</label>
		<label kind="assignment" x="16" y="112">nb = nb + 1, cycle = 0</label>
		<nail x="-16" y="136"/>
		<nail x="16" y="96"/>
	</transition>
	<transition>
		<source ref="id1"/>
		<target ref="id0"/>
		<label kind="guard" x="24" y="-8">
cycle == 10</label>
		<label kind="assignment" x="24" y="32">
nb = 0,
cycle = 0</label>
		<nail x="16" y="32"/>
	</transition>
	<transition>
		<source ref="id2"/>
		<target ref="id1"/>
		<label kind="synchronisation" x="-104" y="-104">
memStart?</label>
		<label kind="assignment" x="-96" y="-120">
cycle = 0</label>
		<nail x="-72" y="-64"/>
	</transition>
</template>
<template>
	<name>cache</name>
	<location id="id3" x="248" y="-8"></location>
	<location id="id4" x="208" y="72"></location>
	<location id="id5" x="192" y="-64"></location>
	<location id="id6" x="0" y="0"></location>
<init ref="id6"/>
<transition>
<source ref="id3"/>
<target ref="id4"/>
<label kind="synchronisation" x="240" y="32">
memStart!</label>
</transition>
<transition>
<source ref="id5"/>
<target ref="id3"/>
<label kind="synchronisation" x="216" y="-64">
memEnd?</label>
</transition>
<transition>
<source ref="id4"/>
<target ref="id6"/>
<label kind="synchronisation" x="64" y="48">
memEnd?</label>
<nail x="104" y="48"/>
</transition>
<transition>
<source ref="id4"/>
<target ref="id4"/>
<label kind="synchronisation" x="264" y="80">
memVal?</label>
<nail x="248" y="120"/>
<nail x="248" y="120"/>
<nail x="264" y="64"/>
</transition>
<transition>
<source ref="id5"/>
<target ref="id5"/>
<label kind="synchronisation" x="216" y="-152">
memVal?</label>
<nail x="256" y="-96"/>
<nail x="184" y="-144"/>
</transition>
<transition>
<source ref="id6"/>
<target ref="id6"/>
<nail x="-16" y="-80"/>
<nail x="-80" y="-48"/>
</transition>
<transition>
<source ref="id6"/>
<target ref="id5"/>
<label kind="synchronisation" x="48" y="-72">
memStart!</label>
<nail x="80" y="-48"/>
</transition>
</template>
<system>
// Place template instantiations here.
Mem = mem();
Cache = cache();

// List one or more processes to be composed into a system.
system Mem, Cache;</system>
</nta>

